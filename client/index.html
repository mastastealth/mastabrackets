<head>
	<meta charset="UTF-8">
	<title>Mastabrackets | Tournament Bracket App</title>
	<link href='http://fonts.googleapis.com/css?family=Lato:400,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
</head>

<body>
	
</body>

<template name="index">
	<header>
		<h1>Mastabrackets</h1>
	</header>
	
	{{> bracket }}
	{{> playerEntry }}
</template>

<template name="playerEntry">
	<div class="overlay {{isActive}}">
		<div class="modal {{isAdmin}}">
			<h2>Select Players</h2>
			<p>Minimum 4 players (and a power of 2) to start tourney.</p>

			<div class="playerList">
				{{#each player}}
					{{> playerOption}}
				{{/each}}
			</div>

			<button>Start</button>
		</div>
	</div>
</template>

<template name="playerOption">
	<div class="playerOpt" data-name="{{name}}">
		{{name}}
	</div>
</template>

<template name="bracket">
	<div class="bracket">
		{{#each columns}}
			{{> column}}
		{{/each}}
	</div>
</template>

<template name="column">
	<div class="column {{isChamp}} {{isEmpty}}">
		{{#if isChamp champion }} 
			{{> champ}}
		{{else}} 
			{{#each matchup}}
				{{> match}}
			{{/each}}
		{{/if}}
	</div>
</template>

<template name="match">
	<div class="matchup {{isBlank}}" id="{{id}}">
		{{#each pair}}
			{{> player}}
		{{/each}}
	</div>
</template>

<template name="player">
	<div class="player {{isLoser}} {{isWinner}}" data-id="{{id}}" data-status="{{status}}">
		<span class="name">{{name}}</span>

		<div class="score">
			<span>{{score}}</span>

			{{#if isWinnerConfirm}} 
				<button class="win ion-ribbon-a {{isWinner}}"></button>
				<button class="sub ion-minus-round"></button>
			{{ else }}
				<button class="add ion-plus-round"></button>
				<button class="sub ion-minus-round"></button>
			{{/if}}
		</div>
	</div>
</template>

<template name="champ">
	<div class="player">
		<i class="ion-trophy {{winner}}"></i>
		<span class="name">{{name}}</span>
	</div>

	{{#if winner}}
		{{> saveTourney}}
	{{/if}}
</template>

<template name="saveTourney">
	<button class="save animated bounceIn">Save Tournament</button>
</template>